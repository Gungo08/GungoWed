/* --- ESTILOS GENERALES (Originales) --- */
* { margin:0; padding:0; box-sizing:border-box; }

html, body { 
    font-family:'Poppins',sans-serif; 
    background:#000; 
    color:#fff; 
    overflow-x: hidden; 
    scroll-behavior: smooth;
    transition: background 0.3s, color 0.3s; /* Transición para modo oficina */
} 

/* HEADER y SCROLL */
header {
    position:fixed; top:0; left:0; width:100%; z-index:1000;
    padding:1.2rem 5%; 
    background: #000; 
    backdrop-filter:blur(10px);
    transition:all .4s;
    border-bottom: none;
}
header.scrolled { 
    background: #000; 
    box-shadow: none; 
    padding: 0.8rem 5%; 
}

.logo-container {
    width: 100%; display: flex; justify-content: space-between;
    align-items: center; max-width: 1000px; margin: 0 auto; padding: 0; 
}

.logo-link {
    display: block; width: 322px; height: 150px;
    background: url('logo-gungo.png') no-repeat center center;
    background-size: contain; background-blend-mode: multiply;
    text-indent: -9999px; overflow: hidden; cursor: pointer;
}

.navbar { display: block; max-width:1200px; margin:0 auto; }
.nav-links { display: flex; align-items: center; }
.nav-links a {
    color:#fff; text-decoration:none; margin:0 18px; font-weight:500; position:relative;
}
.nav-links a::after {
    content:""; position:absolute; bottom:-6px; left:0; width:0; height:3px;
    background:#FF6B00; transition:.3s;
}
.nav-links a:hover::after { width:100%; }

.search-trigger { cursor: pointer; font-size: 1.2rem; margin-left: 20px; transition: 0.3s; }
.search-trigger:hover { color: #FF6B00; transform: scale(1.2); }

/* HERO SECTION */
.hero {
    height:100vh; min-height:600px;
    background: linear-gradient(rgba(0,0,0,0.75), rgba(0,0,0,0.95)),
                url('https://images.unsplash.com/photo-1514525253161-7a46d19cd819?q=80&w=1974&auto=format&fit=crop')
                center/cover no-repeat;
    display:flex; align-items:center; justify-content:center; text-align:center;
    transition: background-position 0.1s; position: relative;
}

.hero-content h1 {
    font-size:6.5rem; font-weight:800; margin:0;
    background:linear-gradient(90deg,#E50914,#FF6B00,#FFB800);
    -webkit-background-clip:text; background-clip:text;
    -webkit-text-fill-color:transparent; color:transparent;
    text-shadow: 0 10px 30px rgba(0,0,0,0.5);
}

.hero-content p { font-size:1.6rem; max-width:800px; margin:25px auto; opacity:0.9; }

.btn-primary {
    padding:18px 55px; background:#E50914; color:#fff; border:none; border-radius:50px;
    font-size:1.3rem; font-weight:600; cursor:pointer; transition:.4s;
    box-shadow:0 10px 30px rgba(229,9,20,0.5);
}
.btn-primary:hover { background:#FF6B00; transform:translateY(-8px); }

/* STORIES */
.stories-container {
    padding: 30px 5%; overflow-x: auto; background: #050505;
    border-bottom: 1px solid #222; margin-bottom: 50px;
}
.stories-container::-webkit-scrollbar { height: 5px; }
.stories-container::-webkit-scrollbar-thumb { background: #333; border-radius: 10px; }

.stories-wrapper { display: flex; gap: 25px; min-width: max-content; padding-bottom: 10px; }
.story-circle {
    width: 85px; height: 85px; border-radius: 50%; padding: 3px; 
    background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888);
    cursor: pointer; position: relative; transition: transform 0.3s;
}
.story-circle:hover { transform: scale(1.1) rotate(5deg); }
.story-circle img {
    width: 100%; height: 100%; border-radius: 50%; border: 3px solid #000; object-fit: cover;
}
.story-name {
    text-align: center; font-size: 0.75rem; margin-top: 8px; color: #ccc; font-weight: 600;
    max-width: 85px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}

/* SECCIÓN NOTICIAS */
.section-title {
    text-align:center; font-size:3.8rem; margin:50px 0 60px; font-weight:800;
    position:relative; color:transparent;
}
.section-title::before {
    content:"Noticias que Arde";
    position:absolute; top:0; left:50%; transform:translateX(-50%);
    background:linear-gradient(45deg,#E50914,#FF6B00,#FFB800);
    -webkit-background-clip:text; background-clip:text;
    -webkit-text-fill-color:transparent; color:transparent;
}

.category-filters { text-align: center; margin-bottom: 40px; padding: 0 5%; }
.filter-btn {
    padding: 10px 20px; margin: 5px; background: #111; color: #fff;
    border: 1px solid #333; border-radius: 50px; font-size: 1rem;
    font-weight: 600; cursor: pointer; transition: 0.3s; text-transform: uppercase;
}
.filter-btn:hover { background: #222; border-color: #FF6B00; }
.filter-btn.active {
    background: #E50914; border-color: #E50914;
    box-shadow: 0 5px 15px rgba(229,9,20,0.4);
}

.news-grid {
    display:grid; grid-template-columns:repeat(auto-fit,minmax(350px,1fr));
    gap:40px; max-width:1400px; margin:0 auto; padding:0 5%;
}
.news-card {
    background:#111; border-radius:20px; overflow:hidden; transition:.4s;
    box-shadow:0 10px 30px rgba(0,0,0,0.6);
    opacity: 0; transform: translateY(50px); transition: all 0.6s ease-out;
    cursor: pointer; position: relative;
}
.news-card.visible { opacity: 1; transform: translateY(0); }
.news-card.hidden { display: none; }
.news-card:hover { transform:translateY(-15px); box-shadow:0 25px 50px rgba(255,107,0,0.3); }
.news-card img { width:100%; height:270px; object-fit:cover; transition: transform 0.5s; }
.news-card:hover img { transform: scale(1.05); }

.category-tag {
    position:absolute; top:15px; left:15px; background:#E50914; color:#fff;
    padding:8px 20px; border-radius:30px; font-size:0.9rem; font-weight:700; z-index: 2;
}
.card-content { padding:25px; }
.card-content h3 { font-size:1.6rem; margin:15px 0; }
.card-content p { opacity:0.85; line-height:1.7; }

/* MODAL */
.modal-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.9); z-index: 2000;
    display: flex; align-items: center; justify-content: center;
    opacity: 0; pointer-events: none; transition: 0.3s; backdrop-filter: blur(8px);
}
.modal-overlay.open { opacity: 1; pointer-events: all; }
.modal-content {
    background: #111; max-width: 900px; width: 90%; display: grid; grid-template-columns: 1fr 1fr;
    border-radius: 20px; overflow: hidden; position: relative; 
    transform: translateY(50px); transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    box-shadow: 0 0 50px rgba(229,9,20,0.2); border: 1px solid #333;
}
.modal-overlay.open .modal-content { transform: translateY(0); }
.modal-content img { width: 100%; height: 100%; object-fit: cover; min-height: 300px; }
.modal-text { padding: 40px; display: flex; flex-direction: column; justify-content: center; position: relative; }
.close-modal {
    position: absolute; top: 15px; right: 20px; background: none; border: none;
    color: #fff; font-size: 2.5rem; cursor: pointer; z-index: 10; line-height: 1;
}
.close-modal:hover { color: #E50914; }

/* SEARCH */
.search-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.98); z-index: 3000; transform: translateY(-100%);
    transition: 0.5s cubic-bezier(0.77, 0, 0.175, 1);
    display: flex; flex-direction: column; align-items: center; justify-content: center;
}
.search-overlay.active { transform: translateY(0); }
.search-overlay input {
    background: transparent; border: none; border-bottom: 2px solid #333;
    width: 80%; font-size: clamp(2rem, 5vw, 4rem); color: #fff; padding-bottom: 20px; outline: none;
    font-family: 'Poppins', sans-serif; font-weight: 800; text-align: center;
}
.search-overlay input:focus { border-bottom-color: #E50914; }
.close-search {
    position: absolute; top: 30px; right: 30px; font-size: 3rem;
    background: none; border: none; color: #fff; cursor: pointer; transition: 0.3s;
}
.close-search:hover { transform: rotate(90deg); color: #E50914; }

/* FOOTER */
footer { background:#000; padding:100px 5% 50px; margin-top:150px; border-top: 1px solid #222; }
.footer-content {
    max-width:1400px; margin:0 auto;
    display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:50px;
}
.social-icons a { color:#fff; font-size:2.2rem; margin:0 15px; transition:.3s; }
.social-icons a:hover { color:#FF6B00; transform:scale(1.3); }

/* MEDIA QUERIES */
@media (max-width: 768px) { 
    .modal-content { grid-template-columns: 1fr; max-height: 90vh; overflow-y: auto; } 
    .modal-content img { height: 250px; } 
    .modal-text { padding: 25px; }
    .category-filters { overflow-x: auto; white-space: nowrap; padding-bottom: 10px; }
    header { padding: 5px 3%; }
    .hero-content h1 { font-size:4rem; }
    .section-title::before { font-size:2.8rem; }
    .nav-links { display: flex !important; align-items: center; justify-content: flex-end; flex-wrap: wrap; }
    .nav-links a { display: block !important; margin: 0 8px; font-size: 0.9rem; font-weight: 600; }
    .search-trigger { display: inline-flex !important; align-items: center; justify-content: center; margin: 0 5px; font-size: 1.2rem; min-width: 30px; flex-shrink: 0; }
    .logo-link { width: 120px; height: 30px; font-size: 0; line-height: 0; overflow: hidden; }
}

/* OTROS (Load More, Reaction Bar) */
.load-more-container { text-align: center; margin: 80px 0; }
.btn-secondary {
    padding: 15px 40px; background: transparent; border: 2px solid #FF6B00;
    color: #FF6B00; border-radius: 50px; font-weight: 700; cursor: pointer;
    transition: 0.3s; font-size: 1rem; display: inline-block;
}
.btn-secondary:hover { background: #FF6B00; color: #fff; box-shadow: 0 0 20px #ff6b00; transform: scale(1.05); }

.reaction-bar { display: flex; gap: 15px; padding: 0 25px 20px; margin-top: -10px; }
.reaction-btn {
    background: rgba(255,255,255,0.1); border: none; color: #fff;
    padding: 5px 12px; border-radius: 15px; cursor: pointer;
    display: flex; align-items: center; gap: 5px; font-size: 0.8rem; transition: 0.2s;
}
.reaction-btn:hover { background: rgba(255,255,255,0.2); transform: scale(1.1); }
.reaction-btn.active { color: #FF6B00; background: rgba(255,107,0,0.2); border: 1px solid rgba(255,107,0,0.3); }

/* ========================================= */
/* === NUEVAS FUNCIONALIDADES (CSS) === */
/* ========================================= */

/* 1. TICKER ÚLTIMA HORA */
.breaking-news-bar {
    position: fixed; bottom: 0; left: 0; width: 100%; height: 40px;
    background: #E50914; color: white; display: flex; align-items: center; 
    z-index: 1500; font-size: 0.9rem; border-top: 2px solid #FF6B00;
}
.breaking-label {
    background: #000; padding: 0 20px; height: 100%; display: flex; align-items: center;
    font-weight: 800; font-style: italic; z-index: 2; flex-shrink: 0;
}
.breaking-text-container { flex: 1; overflow: hidden; white-space: nowrap; height: 100%; display: flex; align-items: center;}
.breaking-text {
    display: inline-block; padding-left: 100%; animation: ticker 25s linear infinite;
}
.breaking-text:hover { animation-play-state: paused; cursor: default; }
@keyframes ticker { 0% { transform: translate3d(0, 0, 0); } 100% { transform: translate3d(-100%, 0, 0); } }

/* 2. MODO OFICINA (Estilos sobreescritos) */
body.office-mode {
    background: #f4f4f4; color: #333;
}
body.office-mode header { background: #fff; border-bottom: 1px solid #ccc; }
body.office-mode .nav-links a { color: #333; }
body.office-mode .logo-link { filter: invert(1); opacity: 0.7; }
body.office-mode .news-card { background: #fff; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
body.office-mode .hero { display: none; } /* Ocultar hero llamativo */
body.office-mode .stories-container { display: none; } /* Ocultar historias */
body.office-mode .news-card img { filter: grayscale(100%); opacity: 0.7; } /* Imágenes discretas */
body.office-mode .card-content h3 { color: #000; }
body.office-mode .card-content p { color: #555; }
body.office-mode .category-tag { background: #666; }
body.office-mode .breaking-news-bar { background: #333; border-top: none; }

/* 3. BOTÓN COMPARTIR EN CARD */
.share-btn-card {
    background: transparent; border: 1px solid #555; color: #ccc;
    width: 30px; height: 30px; border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; transition: 0.3s; margin-left: auto; /* Empuja a la derecha */
}
.share-btn-card:hover { background: #fff; color: #000; }

/* 4. ENCUESTAS */
.poll-section {
    max-width: 800px; margin: 80px auto; padding: 0 5%; text-align: center;
}
.poll-title { font-size: 2.5rem; margin-bottom: 30px; color: #FF6B00; }
.poll-container {
    background: #111; padding: 40px; border-radius: 20px; border: 1px solid #333;
}
.poll-options { margin-top: 30px; display: flex; flex-direction: column; gap: 15px; }
.poll-option {
    position: relative; background: #222; padding: 15px; border-radius: 10px;
    cursor: pointer; overflow: hidden; border: 1px solid #444; transition: 0.2s;
}
.poll-option:hover { border-color: #E50914; }
.poll-text { position: relative; z-index: 2; font-weight: bold; }
.poll-bar {
    position: absolute; top: 0; left: 0; height: 100%; width: 0%;
    background: linear-gradient(90deg, #E50914, #FF6B00);
    z-index: 1; transition: width 1s ease-out; opacity: 0.6;
}
.poll-percent {
    position: absolute; right: 20px; top: 50%; transform: translateY(-50%);
    z-index: 2; font-weight: 800;
}

/* 5. NOTIFICACIONES TOAST */
.toast-container {
    position: fixed; top: 80px; right: 20px; z-index: 2500;
    display: flex; flex-direction: column; gap: 10px; pointer-events: none;
}
.toast-msg {
    background: rgba(0,0,0,0.9); border-left: 4px solid #FF6B00;
    padding: 15px 20px; border-radius: 5px; color: #fff;
    box-shadow: 0 5px 15px rgba(0,0,0,0.5); width: 300px;
    transform: translateX(100%); opacity: 0; transition: 0.4s;
    pointer-events: auto; cursor: pointer;
}
.toast-msg.show { transform: translateX(0); opacity: 1; }
.toast-header { font-size: 0.75rem; color: #FF6B00; font-weight: 800; margin-bottom: 5px; text-transform: uppercase;}
.toast-body { font-size: 0.9rem; line-height: 1.3; }